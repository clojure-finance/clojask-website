<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Clojask: Extensions</title>
        
<meta name="keywords" content="Start">

<meta name="description" content="clojask.extensionsLike many popular Python libraries, such as numpy and pandas, third-party users can extend the function of Clojask by introducing more codes above the basic source code. Here is an example to support the creating such extension functions under the namespace of clojask.extensions.">

<meta property="og:description" content="clojask.extensionsLike many popular Python libraries, such as numpy and pandas, third-party users can extend the function of Clojask by introducing more codes above the basic source code. Here is an example to support the creating such extension functions under the namespace of clojask.extensions.">

<meta property="og:url" content="https://clojure-finance.github.io/clojask-website/clojask-website/posts-output/extensions/" />
<meta property="og:title" content="Extensions" />
<meta property="og:type" content="article" />

        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        
        <link rel="shortcut icon" href="images/ico/favicon.png">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen:300,400,700|Inconsolata" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
        <link href="/clojask-website/css/normalize.css" rel="stylesheet" type="text/css" />
        <link href="/clojask-website/css/blog.css" rel="stylesheet" type="text/css" />
        <link href="/clojask-website/css/lotus-highlightjs.min.css" rel="stylesheet" type="text/css" />
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/tomorrow-night-eighties.min.css">
    </head>
    <body>
        <aside id="sidebar">
            <div id="logo">
                <a title="Clojask" href="/clojask-website/">
                    <!-- <img class="icon" src="/clojask-website/img/white-lotus.svg"> -->
                    <div class="title-text text desktop-and-tablet-only">
                        <span class="desktop-and-tablet-only fa fa-cubes"></span>
                        <br>
                        <br>
                        Clojask
                    </div>
                    <div class="title-text text mobile-only">Clojask</div>
                </a>
            </div> 

            <nav id="sidebar-links">
                <nav id="menucont">
                    <input type="checkbox" id="menu-checkbox" class="menu-checkbox">
                    <label for="menu-checkbox" class="menutitle">
                        <svg class="icon icon-menu" aria-hidden="true"><use xlink:href="/clojask-website/img/icons.svg#icon-menu"></use></svg><span class="menu-text">Menu</span>
                    </label>
                    <ul class="menu">
                        <li ><a title="Home" href="/clojask-website/"><div class="menu-item-text">Home</div></a></li>
                        <!-- 
                        <li ><a title="Tags" href="/clojask-website/tags/"><div class="menu-item-text">Tags</div></a></li>
                         -->
                        
                        <li >
                            <a href="/clojask-website/pages-output/about/"><div class="menu-item-text">About</div></a>
                        </li>
                        
                         <!-- custom navbar item -->
                        <li>
                            <a title="Getting Started" href="/clojask-website/posts-output/get-started/"><div class="menu-item-text">Getting Started</div></a>
                        </li>
                        <li>
                            <a title="API Docs" href="/clojask-website/posts-output/API/"><div class="menu-item-text">API Docs</div></a>
                        </li>
                        <li >
                            <a title="Examples" href="/clojask-website/posts-output/examples/"><div class="menu-item-text">Examples</div></a>
                        </li>
                        <li >
                            <a title="Extensions" href="/clojask-website/posts-output/extensions/"><div class="menu-item-text">Extensions</div></a>
                        </li>
                        
<!-- 
                        <button class="dropdown">Dropdown
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="#">Link 1</a>
                            <a href="##">Link 2</a>
                            <a href="###">Link 3</a>
                        </div>
                        </a> -->

                        <li ><a title="Archives" href="/clojask-website/archives/"><div class="menu-item-text">Archives</div></a></li>
                        <!-- <li><a title="RSS" href="/clojask-website/feed.xml"><div class="menu-item-text">RSS</div></a></li> -->
                    </ul>
                </nav>

                <nav id="socialmedia">
                    <ul>
                        <li><a title="GitHub" href="https://github.com/clojure-finance/clojask" rel="external"><svg class="icon icon-github-circled"><use xlink:href="/clojask-website/img/icons.svg#icon-github-circled"></use></svg></a></li>
                    </ul>
                </nav>
            </nav>
        </aside>

        <article id="main">
            
<div id="post">
    <div class="post-header">
    <div id="post-meta">
        <h1>Extensions</h1>
        <div class="byline">
            <!-- <span class="date">February 22, 2022</span> -->
            
        </div>
    </div>
</div>
<div>
    <ol class="toc"><li><a href="#clojaskextensions">clojask.extensions</a></li><ol><li><a href="#principle-foundation">Principle Foundation</a></li><li><a href="#cbind-csv"><code>cbind-csv</code></a></li><li><a href="#rbind-csv"><code>rbind-csv</code></a></li></ol></ol>
    <h3 id="clojaskextensions">clojask.extensions</h3><p>Like many popular Python libraries, such as numpy and pandas, third-party users can extend the function of Clojask by introducing more codes above the basic source code. Here is an example to support the creating such extension functions under the namespace of <code>clojask.extensions</code>.</p><h4 id="principle-foundation">Principle Foundation</h4><p>When defining a clojask.DataFrame using <code>dataframe</code> function, one can input a function instead of the path of the source file. This function should produce a sequence. If this sequence is lazy, the theoretical length of the sequence can be infinite. Otherwise, it must have a finite length that is smaller than the memory size.</p><pre><code>(def x (dataframe #(["col1,col2" "1,2" "3,4"])))
</code></pre><p>Based on this API, we can define the <code>cbind</code> and <code>rbind</code> function for two csv files.</p><hr /><h4 id="cbind-csv"><code>cbind-csv</code></h4><p>Joins some csv files into a new dataframe by columns.</p><table><thead><tr><th>Argument</th><th>Type</th><th>Function</th><th>Remarks</th></tr></thead><tbody><tr><td>path-a</td><td>String</td><td>The path of the first csv file</td><td>Can be absolute or relative path</td></tr><tr><td>path-b</td><td>String</td><td>The path of the second csv file</td><td>Can be absolute or relative path</td></tr><tr><td>[path-c's]</td><td>String</td><td>Target columns</td><td>Can be absolute or relative path; the number is not fixed</td></tr></tbody></table><p><strong>Example</strong></p><pre><code class="clojure">;; file a
;; date,item,price
;; 2010-01-20,1,18.3
;; 2010-01-20,2,38.3
;; 2010-01-23,1,18.9
;; 2010-01-23,2,48.9
;; 2010-01-26,1,19.1
;; 2010-01-26,2,59.1

;; file b
;; date,cust,Item,sold
;; 2010-01-19,101,2,11
;; 2010-01-22,102,1,7
;; 2010-01-24,102,2,9
;; 2010-01-25,101,2,9
;; 2010-01-26,101,1,10

(def x (cbind "path/to/a" "path/to/b"))

;; x
;; date1,item,price,date2,cust,Item,sold
;; 2010-01-20,1,18.3,2010-01-19,101,2,11
;; 2010-01-20,2,38.3,2010-01-22,102,1,7
;; 2010-01-23,1,18.9,2010-01-24,102,2,9
;; 2010-01-23,2,48.9,2010-01-25,101,2,9
;; 2010-01-26,1,19.1,2010-01-26,101,1,10
</code></pre><hr /><h4 id="rbind-csv"><code>rbind-csv</code></h4><p>Joins some csv files into a new dataframe by rows.</p><table><thead><tr><th>Argument</th><th>Type</th><th>Function</th><th>Remarks</th></tr></thead><tbody><tr><td>path-a</td><td>String</td><td>The path of the first csv file</td><td>Can be absolute or relative path</td></tr><tr><td>path-b</td><td>String</td><td>The path of the second csv file</td><td>Can be absolute or relative path</td></tr><tr><td>[path-c's]</td><td>String</td><td>Target columns</td><td>Can be absolute or relative path; the number is not fixed</td></tr></tbody></table><p><strong>Example</strong></p><pre><code class="clojure">;; file a
;; date,item,price
;; 2010-01-20,1,18.3
;; 2010-01-20,2,38.3
;; 2010-01-23,1,18.9
;; 2010-01-23,2,48.9
;; 2010-01-26,1,19.1
;; 2010-01-26,2,59.1

;; file b
;; date,cust,Item,sold
;; 2010-01-19,101,2,11
;; 2010-01-22,102,1,7
;; 2010-01-24,102,2,9
;; 2010-01-25,101,2,9
;; 2010-01-26,101,1,10

(def x (rbind "path/to/a" "path/to/b"))
(print-df x)

|             date |             item |            price |
|------------------+------------------+------------------|
| java.lang.String | java.lang.String | java.lang.String |
|       2010-01-20 |                1 |             18.3 |
|       2010-01-20 |                2 |             38.3 |
|       2010-01-23 |                1 |             18.9 |
|       2010-01-23 |                2 |             48.9 |
|       2010-01-26 |                1 |             19.1 |
|       2010-01-26 |                2 |             59.1 |
|       2010-01-19 |              101 |                2 |
|       2010-01-22 |              102 |                1 |
|       2010-01-24 |              102 |                2 |
|       2010-01-25 |              101 |                2 |
</code></pre><p><strong>It is also true to create more binding functions for other file types.</strong></p><hr />
</div>
<!--  -->
<!-- <br/> -->


    <!-- 
    <div id="prev-next">
    
    <div class="prev"></div>
    
    
    <a class="next" href="/clojask-website/posts-output/get-started/"><div class="nav-text"">Get Started</div><svg class="icon icon-circle-right"><use xlink:href="/clojask-website/img/icons.svg#icon-circle-right"></use></svg></a>
    
</div>

     -->

    


</div>

            <!-- <hr/> -->
            <br/>
            <div id="footercont">
                Copyright &copy; 2022 Clojask
                <br>Powered by <a href="http://cryogenweb.org">Cryogen</a>
            </div>
        </article>

        <script src="/clojask-website/js/highlight.pack.js" type="application/javascript"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="/clojask-website/js.dropdown.js" type="application/javascript"></script> 
        

        
        
    </body>
</html>
